syntax = "proto2";

package building;

import "commonreward.proto";

message HeroEffectTime {
  optional int32 HeroId = 1;
  repeated int32 EffectTime = 2;
}

message TAddBuildingArg {
  optional int32 Tid = 1;
  optional int32 Index = 2;
}

message TAddBuildingRet {
  optional int32 BuildingId = 1;
}

message TBuildingInfo {
  optional int32 Id = 1;
  optional int32 Tid = 2;
  optional int32 Level = 3;
  repeated int32 HeroList = 4;
  optional int32 Productivity = 5;
  optional int32 ProduceSpeed = 6;
  optional int32 ProductCount = 7;
  optional int32 Status = 8;
  optional int32 LastUpdateTime = 9;
  optional int32 RecipeId = 10;
  optional int32 ItemCount = 11;
  optional int32 LastMoodUpdateTime = 12;
  optional int32 LastBuildUpdateTime = 13;
  repeated HeroEffectTime HeroEffectTimeList = 14;
  optional int32 RecipeTime = 15;
  optional int32 FloatCount = 16;
  repeated TBuildingTactic TacticList = 17;
}

message TBuildingTactic {
  optional int32 BuildingId = 1;
  optional string Name = 2;
  repeated int32 HeroList = 3;
  optional int32 Index = 4;
}

message TChangeTacticNameArg {
  optional int32 BuildingId = 1;
  optional int32 Index = 2;
  optional string Name = 3;
}

message TComposeItemArg {
  optional int32 BuildingId = 1;
  optional int32 RecipeId = 2;
  optional int32 Count = 3;
}

message TDegradeBuildingArg {
  optional int32 BuildingId = 1;
}

message TDegradeBuildingRet {
  repeated commonreward.TCommonReward ItemInfo = 1;
}

message TFinishBuildingArg {
  optional int32 BuildingId = 1;
}

message THeroPlotData {
  optional int32 HeroId = 1;
  optional int32 PlotId = 2;
  optional int32 BuildingId = 3;
}

message TLandInfo {
  optional int32 Index = 1;
  optional int32 BuildingId = 2;
}

message TProduceItemArg {
  optional int32 BuildingId = 1;
  optional int32 RecipeId = 2;
  optional int32 Count = 3;
}

message TReceiveByBuildingArg {
  optional int32 BuildingId = 1;
}

message TReceiveByResourceArg {
  optional int32 ResourceId = 1;
}

message TReceiveRet {
  repeated commonreward.TCommonReward ItemInfo = 1;
}

message TRemoveBuildingTacticArg {
  optional int32 BuildingId = 1;
  optional int32 Index = 2;
}

message TSaveBuildingTacticArg {
  repeated TBuildingTactic TacticList = 1;
}

message TSetBuildingListHeroArg {
  repeated int32 BuildingIdList = 1;
  repeated int32 HeroIdList = 2;
}

message TSetHeroArg {
  optional int32 BuildingId = 1;
  repeated int32 HeroIdList = 2;
}

message TSpecialTriggerData {
  optional int32 HeroId = 1;
  optional int32 PlotId = 2;
}

message TTriggerPlotArg {
  optional int32 HeroId = 1;
  optional int32 PlotId = 2;
  optional int32 BuildingId = 3;
}

message TTriggerPlotRet {
  optional int32 AffectionAdd = 1;
  repeated commonreward.TCommonReward ItemInfo = 2;
}

message TUpdateHeroAdditionArg {
  repeated int32 BuildingIdList = 1;
}

message TUpgradeBuildingArg {
  optional int32 BuildingId = 1;
}

message TUseStrengthSpeedupArg {
  optional int32 BuildingId = 1;
  optional int32 UseCount = 2;
}

message TUserBuildingInfo {
  repeated TBuildingInfo BuildingInfos = 1;
  repeated TLandInfo LandList = 2;
  optional int32 WorkerStrength = 3;
  optional int32 WorkerRecover = 4;
  optional int32 Food = 5;
  optional int32 FoodMax = 6;
  optional int32 Electric = 7;
  optional int32 ElectricMax = 8;
  optional int32 WorkerUpdateTime = 9;
  optional int32 NormalPlotUpdateTime = 10;
  repeated THeroPlotData NormalPlotDatas = 11;
  repeated THeroPlotData SpecialPlotDatas = 12;
  repeated int32 NormalTriggeredHeroIds = 13;
  repeated TSpecialTriggerData SpecialTriggeredHeroPlots = 14;
}


