syntax = "proto2";

package chat;

import "user.proto";

message TBarrageData {
  optional string Param = 1;
  optional string Value = 2;
}

message TChatChangeChannelArg {
  optional int32 Channel = 1;
}

message TChatChangeChannelRet {
  optional int32 Channel = 1;
}

message TChatInfoArg {
  optional int32 Channel = 1;
}

message TChatInfoRet {
  optional int32 WorldNum = 1;
  repeated TChatMsg WorldMsg = 2;
  repeated TChatMsg GuildMsg = 3;
  repeated TChatMsg TeamMsg = 4;
  repeated TChatMsg SysMsg = 5;
  optional string BanMsg = 6;
  optional int32 BanEndTime = 7;
  repeated TUserChatMsg FriendMsg = 8;
  repeated TUserChatMsg PersonalMsg = 9;
}

message TChatMsg {
  optional user.TSimpleUserInfoMsg UserInfo = 1;
  optional int32 Channel = 2;
  optional int32 TemplateId = 3;
  optional int64 SendTime = 4;
  optional string Message = 5;
  optional int32 MsgType = 6;
  repeated TChatParam Params = 7;
}

message TChatParam {
  optional string Key = 1;
  optional string Value = 2;
}

message TChatSaveMessage {
  optional uint64 Uid = 1;
  optional TChatMsg Msg = 2;
}

message TChatSendMessageArg {
  optional int32 Channel = 1;
  optional uint64 ReceiveUid = 2;
  optional string Message = 3;
  optional int32 MsgType = 4;
  optional string Voice = 5;
}

message TChatSendMessageRet {
  optional string Message = 1;
}

message TGetBarrageDataArg {
  optional int32 Id = 1;
  optional int32 BeginIndex = 2;
  optional int32 Len = 3;
}

message TGetBarrageDataRet {
  optional int32 Id = 1;
  repeated TBarrageData BarrageList = 2;
}

message TSendBarrageDataArg {
  optional int32 Id = 1;
  optional int32 Offset = 2;
  optional string Content = 3;
}

message TUserChatMsg {
  optional uint64 Uid = 1;
  optional user.TSimpleUserInfoMsg UserInfo = 2;
  repeated TChatMsg Msg = 3;
  optional int32 NoReadCount = 4;
}


