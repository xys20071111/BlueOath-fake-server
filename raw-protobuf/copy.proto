syntax = "proto2";

package copy;

import "battleplayer.proto";
import "netoperation.proto";
import "battleenemy.proto";
import "commonreward.proto";

message TArchiveCopyOperation {
  optional int32 frameNumber = 1;
  optional bytes data = 2;
}

message TAttackBaseArg {
  optional int32 AttackType = 1;
  optional int32 CopyId = 2;
  repeated uint32 HeroIds = 3;
  optional int32 EnemyId = 4;
}

message TBaseHeroInfo {
  optional uint32 HeroId = 1;
  optional uint64 Hp = 2;
  optional bool IsMvp = 3;
  optional bool IsBattle = 4;
  optional int32 BreakStatus = 5;
  repeated TPassKvInfo ExHeroInfo = 6;
  optional uint64 OwnerUid = 7;
}

message TBaseInfo {
  optional int32 BaseId = 1;
  optional int32 Rid = 2;
  optional int32 StarLevel = 3;
  optional bool IsRunningFight = 4;
  optional int32 LBPoint = 5;
  optional int32 FirstPassTime = 6;
  repeated int32 DropHeroIds = 7;
  optional int32 SfLv = 8;
  optional float SfPoint = 9;
  repeated TSfInfo SfInfo = 10;
  optional bool SfDot = 11;
  optional int32 SfLvChoose = 12;
}

message TCanAttackArg {
  optional int32 CopyId = 1;
}

message TCopyChooseSfLvArg {
  optional int32 CopyId = 1;
  optional int32 SafeLv = 2;
}

message TCopyRecord {
  optional int32 CopyId = 1;
  optional int32 Index = 2;
}

message TCopyRes {
  optional int32 id = 1;
  repeated commonreward.TCommonReward Reward = 2;
}

message TCopySkipVcr {
  optional int32 ShipInfoId = 1;
  optional bool StartVcr = 2;
  optional bool EndVcr = 3;
}

message TDotBaseArg {
  optional int32 CopyId = 1;
}

message TGetRandomFactorArg {
  optional int32 CopyId = 1;
}

message TGetRandomFactorRet {
  repeated battleplayer.TRandomFactor Factors = 1;
  optional int32 LastRefreshTime = 2;
  optional bool IsShowTips = 3;
}

message TPassBaseArg {
  optional int32 BaseId = 1;
  optional int32 Rid = 2;
  optional string CacheId = 3;
  optional int32 RunningTime = 4;
  optional float MaxTimeScale = 5;
  optional bool IsFlyAttack = 6;
  optional bool IsRunningFight = 7;
  optional int32 Grade = 8;
  optional uint32 MvpHeroId = 9;
  optional string BattleString = 10;
  repeated TPassEvaluate Evaluate = 11;
  optional int32 BattleTime = 12;
  optional int32 LBPoint = 13;
  optional bool IsSupport = 14;
  optional int32 BattleType = 15;
  optional TArchiveCopyOperation Operation = 16;
  repeated TPassFleetInfo FleetInfo = 17;
  repeated TBaseHeroInfo HerosInfo = 18;
  optional bool IsFinishMission = 19;
  repeated battleenemy.TBattleEnemyFleet EnemyFleets = 20;
}

message TPassBaseRet {
  repeated commonreward.TCommonReward Reward = 1;
  optional battleplayer.TBattlePlayer BattlePlayer = 2;
  optional int32 Ret = 3;
  optional int32 Grade = 4;
  repeated commonreward.TCommonReward ExReward = 5;
  optional int32 StarLv = 6;
  repeated TPassEvaluate Evaluate = 7;
  optional int32 PassTime = 8;
  repeated commonreward.TCommonExtraReward ExtraReward = 9;
  optional int32 FirstPass = 10;
  repeated commonreward.TCommonExpReward ExpReward = 11;
  optional int32 CopyId = 12;
  optional int32 BuildShipId = 13;
  repeated commonreward.TCommonReward BuildShipReward = 14;
  repeated commonreward.TCommonReward MissionReward = 15;
}

message TPassEvaluate {
  optional int32 Type = 1;
  optional int32 Value = 2;
}

message TPassFleetInfo {
  optional int32 EnemyId = 1;
  repeated TBaseHeroInfo EnemyInfo = 2;
}

message TPassKvInfo {
  optional int32 Type = 1;
  optional int32 Value = 2;
}

message TQuitBaseArg {
  optional int32 CopyId = 1;
  optional bool IsRunningFight = 2;
  optional bool IsPass = 3;
  repeated TBaseHeroInfo HeroInfo = 4;
  optional netoperation.TVerifyPackage VerifyPackage = 5;
  optional int32 BattleMode = 6;
}

message TResRewardArg {
  optional int32 CopyId = 1;
  optional int32 ResId = 2;
}

message TSfInfo {
  optional int32 Type = 1;
  repeated TSfStat Info = 2;
}

message TSfStat {
  optional int32 Key = 1;
  optional int32 Value = 2;
}

message TShipEquipGridInfo {
  optional uint32 HeroId = 1;
  optional int32 EquipGridNum = 2;
}

message TStarInfo {
  optional int32 ChapterId = 1;
  optional int32 StarNum = 2;
  repeated TStarReward StarReward = 3;
  optional int32 PassNum = 4;
  optional int32 Rank = 5;
  repeated TStarReward StarRewardBox = 6;
}

message TStarReward {
  optional int32 Index = 1;
  optional int32 RewardTime = 2;
}

message TStarRewardArg {
  optional int32 ChapterId = 1;
  optional int32 Index = 2;
  repeated int32 IndexList = 3;
}

message TStarRewardRet {
  repeated commonreward.TCommonReward Reward = 1;
}

message TStartBaseArg {
  optional int32 ChapterId = 1;
  optional int32 CopyId = 2;
  optional bool IsRunningFight = 3;
  optional int32 TacticId = 4;
  optional string CacheId = 5;
  optional int32 DailyGroupId = 8;
  optional int32 BattleMode = 9;
  optional int32 AnimMode = 10;
  optional int32 Power = 11;
  repeated int32 ExBuff = 12;
  repeated TStartBaseHeroList HeroList = 13;
  optional int32 RoomId = 14;
  optional int32 MatchType = 15;
}

message TStartBaseHero {
  optional uint32 HeroId = 1;
  optional int32 HeroTid = 2;
}

message TStartBaseHeroList {
  repeated uint32 HeroIdList = 1;
  optional int32 Index = 2;
  optional int32 StrategyId = 3;
}

message TStartBaseRet {
  optional battleplayer.TBattlePlayer BattlePlayer = 1;
  optional int32 RandomSeed = 2;
  optional int32 Rid = 3;
  repeated TCopyRes arrRes = 4;
  repeated int32 EnemyFleet = 5;
  optional int32 CopyId = 6;
  optional int32 CopyType = 7;
  optional bool CopyPass = 8;
  optional int32 BossProgress = 9;
  optional bool IsRunningFight = 10;
  repeated TShipEquipGridInfo ShipEquipGridInfo = 11;
  repeated battleplayer.TRandomFactor RandomFactors = 12;
  optional int32 SafeLv = 13;
  optional netoperation.TVerifyPackage Verify = 14;
  repeated battleplayer.TBattlePlayerList ExtraBattlePlayerList = 15;
  optional string Token = 16;
  repeated TCopySkipVcr SkipVcr = 17;
  optional int32 BattleMode = 18;
  optional bool IsFinal = 19;
  optional int32 AnimMode = 20;
  optional int32 WeatherGroupId = 22;
  repeated int32 CopyMission = 23;
  repeated battleenemy.TBattleEnemyFleet EnemyFleets = 24;
  repeated TPassEvaluate ConfigData = 25;
  optional int32 MatchType = 26;
}

message TTestPassArg {
  optional int32 StartCopyId = 1;
  optional int32 EndCopyId = 2;
}

message TTestPassRet {
  repeated int32 CopyIdList = 1;
}

message TUnlockedCopyArg {
  optional int32 CopyId = 1;
}

message TUserCopyInfo {
  repeated TBaseInfo BaseInfo = 1;
  optional int32 MaxCopyId = 2;
  optional int32 CopyType = 3;
  repeated TStarInfo StarInfo = 4;
  repeated TPassKvInfo PassCopyCount = 5;
}


