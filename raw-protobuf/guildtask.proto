syntax = "proto2";

package guildtask;

import "user.proto";

message TConstantItemData {
  optional int32 ItemType = 1;
  optional int32 ItemId = 2;
  optional int32 ItemNum = 3;
}

message TConstantRewardData {
  optional int32 RewardId = 1;
  optional int32 RewardNum = 2;
}

message TGuildTaskDonateArg {
  optional int32 TaskIndex = 1;
  optional int32 TaskId = 2;
  repeated TGuildTaskDonateItem Items = 3;
  optional int32 TaskNum = 4;
}

message TGuildTaskDonateItem {
  optional int32 ItemType = 1;
  optional int32 ItemId = 2;
  optional int32 ItemNum = 3;
  optional uint32 SpecialId = 4;
}

message TGuildTaskInfo {
  optional int32 TaskIndex = 1;
  optional int32 TaskId = 2;
  optional int32 Progress = 3;
  optional int32 IsFinished = 4;
  optional int32 CurAcceptNum = 5;
}

message TGuildTaskInfoRet {
  repeated TGuildTaskInfo CurrentTasks = 1;
  optional int32 TodayAcceptTaskCount = 2;
  optional int32 TodayFinishTaskCount = 3;
  optional int32 CurrentTaskEmptyFlag = 4;
  repeated TTodayGuildTaskData TodayTaskInfo = 5;
  optional int32 TodayTaskInfoEmptyFlag = 6;
  repeated TConstantRewardData ConstantRewardPool = 7;
  repeated TRandomRewardData RandomRewardPool = 8;
  repeated TTodayRandomRewardData TodayRandomRewardInfo = 9;
  repeated TGuildTaskMemberContribute TodayMemberContribute = 10;
  repeated TConstantItemData ConstantItemPool = 11;
  repeated TGuildTaskMemberContribute MemberContribute = 12;
  repeated TGuildTaskMemberGetConstantReward MemberGetConstantReward = 13;
  repeated TGuildTaskMemberGetRandomReward MemberGetRandomReward = 14;
  repeated TGuildTaskMemberFinishStepCount MemberFinishStepCount = 15;
}

message TGuildTaskMemberContribute {
  optional uint64 Uid = 1;
  optional int32 Contri = 2;
}

message TGuildTaskMemberFinishStepCount {
  optional uint64 Uid = 1;
  optional int32 Count = 2;
}

message TGuildTaskMemberGetConstantReward {
  optional uint64 Uid = 1;
  optional int32 Get = 2;
  optional user.TGetOtherUserInfoRet User = 3;
}

message TGuildTaskMemberGetRandomReward {
  optional uint64 Uid = 1;
  optional int32 Get = 2;
}

message TGuildTaskTaskArg {
  optional int32 TaskIndex = 1;
  optional int32 TaskId = 2;
}

message TGuildTaskTaskIdArg {
  optional int32 TaskId = 1;
}

message TGuildTaskUserInfoRet {
  optional int32 ContributeValue = 1;
  optional int32 TodayAcceptTaskCount = 2;
  optional int32 TodayFinishTaskStepCount = 3;
  optional TTodayUserGuildTaskInfo CurrentGuildTaskInfo = 4;
  repeated int32 CurrentCanAcceptTaskList = 5;
}

message TRandomRewardData {
  optional int32 ItemType = 1;
  optional int32 ItemId = 2;
  optional int32 ItemNum = 3;
  optional uint64 GiveUid = 4;
  optional string GiveUname = 5;
}

message TTodayGuildTaskData {
  optional int32 TaskId = 1;
  optional int32 ProgressSum = 2;
  optional int32 ExtraSum = 3;
}

message TTodayRandomRewardData {
  optional int32 EnterNum = 1;
  optional int32 RewardId = 2;
}

message TTodayUserGuildTaskInfo {
  optional int32 TaskIndex = 1;
  optional int32 TaskId = 2;
  optional int32 IsComplete = 3;
  optional int32 IsExtra = 4;
}


