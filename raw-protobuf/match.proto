syntax = "proto2";

package match;

import "battleplayer.proto";

message TBattlePVPRet {
  repeated TBattleRet BattleRet = 1;
}

message TBattlePushMessage {
  optional string Address = 1;
  optional int32 Port = 2;
  optional uint64 BattleId = 3;
  optional string Token = 4;
  repeated TBattleUserList UserList = 5;
  optional uint64 MasterId = 6;
}

message TBattleRet {
  optional uint64 Uid = 1;
  optional uint32 Success = 2;
  optional uint32 Appraise = 3;
  optional uint32 Damage = 4;
  optional uint32 Left_Hp = 5;
  optional uint32 Max_Hp = 6;
}

message TBattleUserList {
  optional int32 Index = 1;
  optional battleplayer.TBattlePlayer Player = 2;
}

message TMatchData {
}

message TMatchRet {
  repeated TMatchUserList UidList = 1;
}

message TMatchUserList {
  optional uint64 Uid = 1;
  optional int32 ServerId = 2;
}

message TPveMatchRoomTimeout {
  optional int32 RoomId = 1;
}

message TPveRoomInfoArg {
  optional int32 RoomId = 1;
  optional int32 CopyId = 2;
  optional uint64 KickedUid = 3;
  repeated TTeamHeroList HeroList = 4;
  optional uint64 Uid = 5;
}

message TPveRoomInfoRet {
  optional int32 RoomId = 1;
  optional int32 CopyId = 2;
  optional bool IsPublic = 3;
  optional uint64 OwnerId = 4;
  repeated TRoomUserInfo RoomUsers = 5;
  optional int32 Capacity = 6;
  optional int32 CreateTime = 7;
  optional int32 Reason = 8;
}

message TPveRoomList {
  repeated TPveRoomInfoRet roomInfo = 1;
}

message TPvpMatchReadyRet {
  optional int32 RoomId = 1;
}

message TPvpMatchReadyTimeoutRet {
  optional int32 RoomId = 1;
}

message TRoomUserInfo {
  optional uint64 Uid = 1;
  optional string Name = 2;
  optional int32 Head = 3;
  optional int32 Fashioning = 4;
  optional bool IsReady = 5;
  optional int32 EnterTime = 6;
  repeated TTeamHeroList HeroList = 7;
}

message TTeamHeroInfo {
  optional uint32 Hid = 1;
  optional uint32 Tid = 2;
  optional int32 Level = 3;
  optional int32 Advance = 4;
  optional int32 Fashioning = 5;
}

message TTeamHeroList {
  repeated uint32 HeroIdList = 1;
  repeated TTeamHeroInfo HeroInfo = 2;
  optional int32 StrategyId = 3;
}


