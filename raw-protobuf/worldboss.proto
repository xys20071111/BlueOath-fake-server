syntax = "proto2";

package worldboss;

message TGetWorldBossDamageRankArg {
  optional uint32 BossId = 1;
  enum Type = 2;
}

message TMainWorldBossDataRet {
  optional TWorldBossBaseDataRet Data = 1;
  optional TWorldBossDamageRank Rank = 2;
  optional TWorldBossUserActiveInfo UserActiveInfo = 3;
}

message TWorldBossBaseDataRet {
  optional int32 HP = 1;
  optional int32 Level = 2;
  enum State = 3;
  optional uint32 Id = 4;
}

message TWorldBossBroadcast {
  optional int32 BossHP = 1;
  repeated TWorldBossUserDamage Rank = 2;
  repeated TWorldBossUserDamage RecentDamage = 3;
  optional TWorldBossUserDamage SelfRank = 4;
}

message TWorldBossCheerArg {
  enum Typ = 1;
  optional uint32 BossID = 2;
}

message TWorldBossCheerRet {
  optional bool IsSuccess = 1;
}

message TWorldBossCurrency {
  optional int32 Type = 1;
  optional int32 Value = 2;
}

message TWorldBossDamageRank {
  repeated TWorldBossUserDamage UserDamage = 1;
}

message TWorldBossDamageRankRet {
  optional TWorldBossDamageRank Rank = 1;
  optional int32 Typ = 2;
}

message TWorldBossDamageReward {
  repeated TWorldBossCurrency Rewards = 1;
}

message TWorldBossEnterBattleArg {
  optional uint32 WorldBossId = 1;
  repeated int32 Heroes = 2;
}

message TWorldBossFinishBattleArg {
  optional int32 Damage = 1;
  optional string Checksum = 2;
  optional uint32 BossId = 3;
}

message TWorldBossFinishBattleRet {
  optional TWorldBossDamageReward Reward = 1;
  optional TWorldBossDamageRank Rank = 2;
}

message TWorldBossIDArg {
  optional uint32 WorldBossId = 1;
}

message TWorldBossOverBrd {
  optional uint32 KillerUid = 1;
  optional string Name = 2;
  optional TWorldBossBaseDataRet bossInfo = 3;
}

message TWorldBossUserActiveInfo {
  optional int32 LastBattleTime = 1;
  optional int32 LastGoldCheerTime = 2;
  optional int32 TotalCheerTimes = 3;
}

message TWorldBossUserDamage {
  optional uint32 Uid = 1;
  optional string Name = 2;
  optional int32 Damage = 3;
  optional int32 Place = 4;
}


